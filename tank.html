<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body onkeydown = "moveTank(event)">
  <div style="width: 190px; height: 190px; border: 2px solid black;" id="battleFiled">
    <img id="tank" src="tank.png" style="position: relative; top: 0px; left: 0px;" width="19" height="19">
    <img id="boom" src="boom.png" style="position: relative; top: 57px; left: 57px;" width="19" height="19">
  </div>

  <table>
    <tr>
      <td></td>
      <td>
        <input type="button" value="⬆" onclick="moveUp()">
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        <input type="button" value="⬅" onclick="moveLeft()">
      </td>
      <td></td>
      <td>
        <input type="button" value="➡" onclick="moveRight()">
      </td>
    </tr>
    <tr>
      <td></td>
      <td>
        <input type="button" value="⬇" onclick="moveDown()">
      </td>
      <td></td>
    </tr>
  </table>


  <script>
    function getTop() {
      let top = document.getElementById("tank").style["top"]
      top = parseInt(top)
      return top
    }

    function getLeft() {
      let left = document.getElementById("tank").style["left"]
      left = parseInt(left)
      return left
    }

    function moveTank(e) {
      let keyCode = e.key

      if(keyCode == "ArrowUp") {
        moveUp()
      } else if(keyCode == "ArrowDown") {
        moveDown()
      } else if(keyCode == "ArrowLeft") {
        moveLeft()
      } else if(keyCode == "ArrowRight") {
        moveRight()
      }

      let curTop = getTop()
      let curLeft = getLeft()
      explose(curTop, curLeft)
    }

    function moveUp() {
      let top = getTop()
      top -= 19
      if (top >= 0) {
        document.getElementById("tank").style["top"] = top + "px"
        document.getElementById("tank").style["transform"] = "rotate(0deg)"
      }
    }

    function moveDown() {
      let top = getTop()
      top += 19
      if (top < 190) {
        document.getElementById("tank").style["top"] = top + "px"
        document.getElementById("tank").style["transform"] = "rotate(180deg)"
      }
    }

    function moveLeft() {
      let left = getLeft()
      left -= 19
      if (left >= 0) {
        document.getElementById("tank").style["left"] = left + "px"
        document.getElementById("tank").style["transform"] = "rotate(270deg)"
      }
    }

    function moveRight() {
      let left = getLeft()
      left += 19
      if (left < 190) {
        document.getElementById("tank").style["left"] = left + "px"
        document.getElementById("tank").style["transform"] = "rotate(90deg)"
      }
    }

    function explose(curTop, curLeft) {
      let boomTop = document.getElementById("boom").style["top"]
      boomTop = parseInt(boomTop)
      let boomLeft = document.getElementById("boom").style["left"]
      boomLeft = parseInt(boomLeft)

      if(curTop == boomTop && curLeft == boomLeft) {
        document.getElementById("tank").src = "explosion.png"
        // document.getElementById("tank").style.display = "explosion.png"
        document.getElementById("boom").style.visibility = "hidden"
      }
    }
  </script>
  
</body>
</html>